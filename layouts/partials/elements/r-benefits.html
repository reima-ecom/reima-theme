{{ if .benefitsEnabled }}

{{ with .benefits }}
<r-benefits>
  {{ range .links }}
  <a href="{{.url}}" class="benefit">
    <div class="icon">
      {{ if .icon }}
      {{ $img := partial "helpers/get-image" .icon }}
      <!-- check if this is png or jpeg and resize if it is -->
      {{ if or (eq $img.MediaType.SubType "png") (eq $img.MediaType.SubType "jpeg")}}
      {{ $onex := $img.Resize (printf "%dx" .width) }}
      {{ $twox := $img.Resize (printf "%dx" (mul .width 2)) }}
      <img srcset="{{$onex.RelPermalink}} 1x, {{$twox.RelPermalink}} 2x" src="{{$onex.RelPermalink}}" alt=""
           width="{{$onex.Width}}" height="{{$onex.Height}}">
      <!-- if some other type (like svg), just output directly -->
      {{ else }}
      <img src="{{$img.RelPermalink}}" alt="" width="{{.width}}"{{with .height}} height="{{.}}"{{end}}>
      {{ end }}
      {{ end }}
    </div>
    <strong class="heading">{{.heading}}</strong>
    <span class="cta">{{.text}}</span>
  </a>
  {{ end }}
</r-benefits>
{{ else }}
{{ warnf "Benefits not found for %s" site.Language }}
{{ end }}

{{ end }}